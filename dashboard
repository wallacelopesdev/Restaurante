import matplotlib.pyplot as plt

def dashboard_grafico():
    valores = []
    pedidos = []

    try:
        with open("pedidos.txt", "r", encoding="utf-8") as f:
            linhas = f.readlines()

        numero_pedido = 1
        for linha in linhas:
            if linha.startswith("Total:"):
                valor = float(linha.split("R$")[1].strip())
                valores.append(valor)
                pedidos.append(f"Pedido {numero_pedido}")
                numero_pedido += 1

        if valores:
            plt.bar(pedidos, valores)
            plt.title("Arrecadação por Pedido")
            plt.xlabel("Pedidos")
            plt.ylabel("Valor (R$)")
            plt.xticks(rotation=45)
            plt.show()
        else:
            print("Nenhum pedido registrado ainda.")

    except FileNotFoundError:
        print("Nenhum pedido encontrado ainda.")
